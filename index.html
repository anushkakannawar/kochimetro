<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kochi Metro Intelligence - AI Transit Platform</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body class="light-mode">
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="nav-logo" onclick="showPage('home')">
                    <div class="logo-icon">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="4" y="4" width="16" height="16" rx="2" />
                            <path d="M9 4v16" />
                            <path d="M15 4v16" />
                            <line x1="4" y1="12" x2="20" y2="12" />
                        </svg>
                    </div>
                    <span class="logo-text">Kochi Metro AI</span>
                </div>

                <div class="nav-menu desktop-menu">
                    <button class="nav-link" onclick="showPage('home')" data-page="home">Home</button>
                    <button class="nav-link" onclick="showPage('demo')" data-page="demo">Live Dashboard</button>
                    <button class="nav-link" onclick="showPage('ai-model')" data-page="ai-model">AI Insights</button>
                    <button class="nav-link" onclick="showPage('contact')" data-page="contact">Team</button>
                </div>

                <div class="nav-actions">
                    <button id="loginBtn" class="btn btn-sm" onclick="openLoginModal()" style="margin-right: 10px; border: 1px solid var(--card-border); padding: 0.5rem 1rem; background: transparent; color: var(--text-primary);">Login</button>
                    
                    <button class="theme-toggle" onclick="toggleTheme()">
                        <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
                        <svg class="moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>
                    </button>
                    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">
                        <svg class="menu-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
                        <svg class="close-icon" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="display: none;"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
                    </button>
                </div>
            </div>

            <div class="mobile-menu" id="mobileMenu" style="display: none;">
                <button class="nav-link-mobile" onclick="showPage('home'); toggleMobileMenu();">Home</button>
                <button class="nav-link-mobile" onclick="showPage('demo'); toggleMobileMenu();">Live Dashboard</button>
                <button class="nav-link-mobile" onclick="showPage('ai-model'); toggleMobileMenu();">AI Insights</button>
                <button class="nav-link-mobile" onclick="showPage('contact'); toggleMobileMenu();">Team</button>
            </div>
        </div>
    </nav>

    <main id="mainContent">
        <div id="homePage" class="page active">
            <div class="hero-section">
                <div class="container">
                    <div class="hero-content">
                        <div class="hero-badge">
                            <span>Blue Line Operations Live</span>
                        </div>
                        <h1 class="hero-title">Kochi Metro Intelligence</h1>
                        <p class="hero-subtitle">Optimizing the Aluva-Tripunithura corridor with predictive AI analytics.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-primary" onclick="showPage('demo')">Open Dashboard</button>
                            <button class="btn btn-secondary" onclick="showPage('ai-model')">View AI Model</button>
                        </div>
                    </div>

                    <div class="feature-grid">
                        <div class="feature-card">
                            <h3>AI Demand Prediction</h3>
                            <p>Forecasting passenger flow for all 25 stations.</p>
                        </div>
                        <div class="feature-card">
                            <h3>Smart Scheduling</h3>
                            <p>Real-time frequency adjustment for the Blue Line.</p>
                        </div>
                        <div class="feature-card">
                            <h3>Live Monitoring</h3>
                            <p>Tracking active trains from Aluva to Tripunithura.</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="stats-section">
                <div class="container">
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value">100k+</div>
                            <div class="stat-label">Daily Passengers</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">1</div>
                            <div class="stat-label">Active Line (Blue)</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">25</div>
                            <div class="stat-label">Stations</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value">98%</div>
                            <div class="stat-label">On-Time Reliability</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="demoPage" class="page">
            <div class="container page-container">
                <h1 class="page-title">Live Operations Dashboard</h1>

                <div class="alerts-container" id="alertsContainer"></div>

                <div class="dashboard-grid">
                    <div class="card">
                        <h2 class="card-title">Blue Line Live Tracking</h2>
                        
                        <div class="live-status-box" id="liveStatusBox" style="background: rgba(94, 108, 91, 0.1); padding: 15px; border-radius: 8px; margin-bottom: 15px; border: 1px solid var(--primary-color);">
                            <div style="font-size: 1.1rem; font-weight: bold; color: var(--primary-color); margin-bottom: 5px;">
                                <span id="trainLocationText">Network Status: Normal</span>
                            </div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary);">
                                <span id="userEtaText">6 Trains currently active on the Blue Line.</span>
                            </div>
                        </div>

                        <div class="metro-map" id="metroMap" style="overflow-y: auto; text-align: center;">
                            <svg viewBox="0 0 400 650" width="100%" height="600" id="mapSvg">
                                <line x1="200" y1="30" x2="200" y2="620" stroke="var(--primary-color)" stroke-width="8" stroke-linecap="round"/>
                                
                                <circle cx="200" cy="30" r="10" fill="var(--bg-secondary)" stroke="var(--primary-color)" stroke-width="4"/>
                                <text x="225" y="35" fill="currentColor" font-size="14" font-weight="bold">Aluva</text>
                                
                                <circle cx="200" cy="620" r="10" fill="var(--bg-secondary)" stroke="var(--primary-color)" stroke-width="4"/>
                                <text x="225" y="625" fill="currentColor" font-size="14" font-weight="bold">Tripunithura</text>

                                <circle cx="200" cy="150" r="6" fill="var(--text-primary)" stroke="var(--primary-color)" stroke-width="2"/>
                                <text x="185" y="155" text-anchor="end" fill="currentColor" font-size="12">Edapally</text>

                                <circle cx="200" cy="300" r="8" fill="var(--bg-secondary)" stroke="var(--primary-color)" stroke-width="3"/>
                                <text x="185" y="305" text-anchor="end" fill="currentColor" font-size="12" font-weight="bold">M.G Road</text>

                                <circle cx="200" cy="450" r="8" fill="var(--bg-secondary)" stroke="var(--primary-color)" stroke-width="3"/>
                                <text x="185" y="455" text-anchor="end" fill="currentColor" font-size="12" font-weight="bold">Vyttila Hub</text>
                                
                                <g id="trainMarkers"></g>
                            </svg>
                        </div>
                    </div>

                    <div class="card">
                        <h2 class="card-title">Live Departures</h2>
                        <div class="train-schedule" id="trainSchedule"></div>
                    </div>
                </div>

                <div class="dashboard-grid-3">
                    <div class="card card-span-2">
                        <h2 class="card-title">Blue Line Demand Forecast</h2>
                        <canvas id="demandChart"></canvas>
                    </div>

                    <div class="card">
                        <h2 class="card-title-small">Journey Planner</h2>
                        <form class="journey-form" id="journeyForm">
                            <div class="form-group">
                                <label>From (Your Location)</label>
                                <select id="fromStation"></select>
                            </div>
                            <div class="form-group">
                                <label>To (Destination)</label>
                                <select id="toStation"></select>
                            </div>
                            <button type="submit" class="btn btn-primary btn-block">Find Route</button>
                        </form>
                        <div class="journey-result" id="journeyResult" style="display: none;"></div>
                    </div>
                </div>

                <div class="card" id="adminControlPanel">
                    <h2 class="card-title">AI Scheduler Admin Panel</h2>
                    
                    <div id="adminLockedMsg" style="text-align: center; padding: 2rem;">
                        <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: var(--text-secondary); margin-bottom: 1rem;">
                            <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>
                            <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>
                        </svg>
                        <p style="color: var(--text-secondary); margin-bottom: 1rem;">Admin access required to modify train frequency.</p>
                        <button class="btn btn-primary" onclick="openLoginModal()">Login as Admin</button>
                    </div>

                    <div id="adminInterface" style="display: none;">
                        <div class="ai-decision-box">
                            <div class="prediction-display">
                                <span class="label" style="color:var(--text-secondary); font-size: 0.9rem;">AI Suggested Headway</span>
                                <span class="value" id="aiPredictedValue">-- mins</span>
                            </div>
                            
                            <div class="prediction-status">
                                <p id="aiReasoning">Analyzing real-time passenger density...</p>
                            </div>

                            <div class="action-buttons">
                                <button class="btn btn-danger" onclick="rejectPrediction()">
                                    Disagree (Re-predict)
                                </button>
                                <button class="btn btn-success" onclick="approvePrediction()" style="background-color: var(--success-color); color: white; border: none;">
                                    Agree (Apply)
                                </button>
                            </div>
                        </div>

                        <div class="current-stats" style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--card-border);">
                            <div style="font-size: 0.9rem; color: var(--text-secondary);">Current System Status:</div>
                            <div style="font-weight: bold; color: var(--primary-color);" id="currentSystemFreq">Running at 7 min intervals</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="ai-modelPage" class="page">
            <div class="container page-container page-narrow">
                <h1 class="page-title">AI Model Intelligence</h1>
                
                <div class="card" style="margin-bottom: 2rem;">
                    <h2 class="card-title">Model Selection: LSTM vs. ARIMA</h2>
                    <p class="text-content" style="color: var(--text-secondary); margin-bottom: 1rem;">
                        We selected <strong>Long Short-Term Memory (LSTM)</strong> over traditional ARIMA for the Kochi Metro Blue Line.
                    </p>
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-top: 1rem;">
                        <div style="background: rgba(239, 68, 68, 0.05); padding: 1rem; border-radius: 0.5rem; border: 1px solid rgba(239, 68, 68, 0.2);">
                            <h4 style="color: var(--danger-color); margin-bottom: 0.5rem;">Why not ARIMA?</h4>
                            <p style="font-size: 0.85rem; color: var(--text-secondary);">ARIMA is linear and struggles with complex, non-linear patterns like sudden sports events or variable weather impacts common in Kochi.</p>
                        </div>
                        <div style="background: rgba(94, 108, 91, 0.1); padding: 1rem; border-radius: 0.5rem; border: 1px solid var(--primary-color);">
                            <h4 style="color: var(--primary-color); margin-bottom: 0.5rem;">Why LSTM?</h4>
                            <p style="font-size: 0.85rem; color: var(--text-secondary);">LSTM networks natively handle non-linear time-series data and can "remember" long-term dependencies (e.g., weekly rush hour trends).</p>
                        </div>
                    </div>
                </div>

                <div class="dashboard-grid">
                    <div class="card">
                        <h2 class="card-title-small">Current Model Architecture</h2>
                        <div class="model-architecture">
                            <div class="model-layer">
                                <div class="layer-title">Input Sequence</div>
                                <div class="layer-desc">Look-back window of previous 24 hours.</div>
                                <div class="tech-tag">Shape: (Batch, 24, 1)</div>
                            </div>
                            <div class="model-layer">
                                <div class="layer-title">LSTM Layer</div>
                                <div class="layer-desc">50 Neurons with ReLU activation.</div>
                                <div class="tech-tag">Units: 50</div>
                            </div>
                            <div class="model-layer">
                                <div class="layer-title">Dense Output</div>
                                <div class="layer-desc">Single neuron predicting next hour's load.</div>
                                <div class="tech-tag">Prediction: passenger_count</div>
                            </div>
                            <div class="model-layer">
                                <div class="layer-title">Logic Gate</div>
                                <div class="layer-desc">Threshold-based Frequency Assignment.</div>
                                <div class="tech-tag">if > 400: 5min, else: 15min</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h2 class="card-title-small">Model Configuration</h2>
                        <ul class="feature-list" style="margin-bottom: 1.5rem;">
                            <li><strong>Optimizer:</strong> Adam (Adaptive Moment Estimation)</li>
                            <li><strong>Loss Function:</strong> Mean Squared Error (MSE)</li>
                            <li><strong>Epochs:</strong> 20 (Early Stopping Enabled)</li>
                            <li><strong>Normalization:</strong> MinMaxScaler (0-1 range)</li>
                        </ul>

                        <h3 class="card-title-small">Performance</h3>
                        <div class="metrics-grid">
                            <div class="metric-item" style="border: 1px solid var(--card-border);">
                                <div class="metric-label">Training Loss</div>
                                <div class="metric-value">0.0035</div>
                            </div>
                            <div class="metric-item" style="border: 1px solid var(--card-border);">
                                <div class="metric-label">Prediction Horizon</div>
                                <div class="metric-value">24 Hours</div>
                            </div>
                            <div class="metric-item" style="border: 1px solid var(--card-border);">
                                <div class="metric-label">Accuracy</div>
                                <div class="metric-value">~92%</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="contactPage" class="page">
            <div class="container page-container page-narrow">
                <h1 class="page-title">Meet the Team</h1>
                <div class="contact-grid">
                    <div class="card">
                        <h2 class="card-title-small">Project Developers</h2>
                        <div class="team-list" style="display: flex; flex-direction: column; gap: 20px;">
                            <div class="team-member">
                                <div style="font-weight: 700; font-size: 1.1rem;">Sarvesh Barale</div>
                                <div style="color: var(--primary-color); font-weight: 500;">AI/ML Lead</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">202401120071@mitaoe.ac.in</div>
                            </div>
                            <div class="team-member">
                                <div style="font-weight: 700; font-size: 1.1rem;">Anushka Kannawar</div>
                                <div style="color: var(--primary-color); font-weight: 500;">Full Stack Developer</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">202401120017@mitaoe.ac.in</div>
                            </div>
                            <div class="team-member">
                                <div style="font-weight: 700; font-size: 1.1rem;">Himani Bhurkunde</div>
                                <div style="color: var(--primary-color); font-weight: 500;">UI/UX Designer</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">202401120076@mitaoe.ac.in</div>
                            </div>
                            <div class="team-member">
                                <div style="font-weight: 700; font-size: 1.1rem;">Kedar Jasud</div>
                                <div style="color: var(--primary-color); font-weight: 500;">Data Scientist</div>
                                <div style="font-size: 0.9rem; color: var(--text-secondary);">202401120001@mitaoe.ac.in</div>
                            </div>
                        </div>
                    </div>

                    <div class="card">
                        <h2 class="card-title-small">Get in Touch</h2>
                        <form class="contact-form" id="contactForm">
                            <div class="form-group">
                                <label>Name</label>
                                <input type="text" id="contactName" placeholder="Your name" required>
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="contactEmail" placeholder="your.email@example.com" required>
                            </div>
                            <div class="form-group">
                                <label>Message</label>
                                <textarea id="contactMessage" rows="4" placeholder="Your message..." required></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary btn-block">Send Message</button>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p class="footer-copy">Â© 2026 Kochi Metro Intelligence. Developed by Team MITAOE.</p>
            </div>
        </div>
    </footer>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close-modal" onclick="closeLoginModal()">&times;</span>
            <h2 style="margin-bottom: 1.5rem;">System Login</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label>User ID / Email</label>
                    <input type="text" id="username" placeholder="admin" required>
                </div>
                <div class="form-group">
                    <label>Password</label>
                    <input type="password" id="password" placeholder="admin123" required>
                </div>
                <div class="form-group">
                    <label>Role</label>
                    <select id="userRole">
                        <option value="user">Station Manager</option>
                        <option value="admin">Super Admin</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary btn-block">Login</button>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="script.js"></script>
</body>
</html>